<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Caca</title>
    <link href="style.css", rel="stylesheet" type="text/css">

</head>
<body onload="init()">
    <audio autoplay loop>
        <source src="./audio/Winnie.mp3" type="audio/mpeg">
    </audio>

    <div class="b1"><button class="but1" id="addImage">Yes</button></div>
    <img class="cacao" id="salut" onload="moveit()" src="caca.png">

    <script>
        function createImage() {
            const img = new Image();
            img.src = "caca.png";
            img.style.position = 'absolute';
            return img;
        }

        function moveImageRandomly(image) {
            const windowWidth = window.innerWidth - image.clientWidth;
            const windowHeight = window.innerHeight - image.clientHeight;

            const randomX = Math.floor(Math.random() * windowWidth);
            const randomY = Math.floor(Math.random() * windowHeight);

            image.style.left = `${randomX}px`;
            image.style.top = `${randomY}px`;
        }

        function animateImage(image) {
            setInterval(() => moveImageRandomly(image), 100);
        }

        document.getElementById("addImage").addEventListener("click", () => {
            const newImage = createImage();
            document.body.appendChild(newImage);
            animateImage(newImage);
        });

        function moveOneRandomly() {
            const image = document.getElementById("salut");
            const windowWidth = window.innerWidth - image.clientWidth;
            const windowHeight = window.innerHeight - image.clientHeight;

            const randomX = Math.floor(Math.random() * windowWidth);
            const randomY = Math.floor(Math.random() * windowHeight);

            image.style.left = `${randomX}px`;
            image.style.top = `${randomY}px`;
        }

        setInterval(moveOneRandomly, 100);
/*
        function moveImageRandomly(item, index, arr) {

            const image = item;
            const windowWidth = window.innerWidth - image.clientWidth;
            const windowHeight = window.innerHeight - image.clientHeight;


            const randomX = Math.floor(Math.random() * windowWidth);
            const randomY = Math.floor(Math.random() * windowHeight);

            image.style.left = `${randomX}px`;
            image.style.top = `${randomY}px`;
        }

        function addcaca(){
            let arraycaca = new Array();
            const image = document.getElementById("salut");
            const randomX = Math.floor(Math.random() * windowWidth);
            const randomY = Math.floor(Math.random() * windowHeight);
            image.style.left = `${randomX}px`;
            image.style.top = `${randomY}px`;
            arraycaca.push(image);
            arraycaca.forEach(moveImageRandomly)
        }

        setInterval(moveImageRandomly, 100);
*/
    </script>
</body>
</html>